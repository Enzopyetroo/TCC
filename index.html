<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCC</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="styles.css">
    <script>
        var conteudo = "teste"
        var nomepessoa = "moço"
        var mensagens = 0
        function mensagem(msg){
            const node = document.getElementById("msgplaceholder")
            const clone = node.cloneNode(true)
            mensagens += 1
            clone.style.display = "flex"
            clone.id = "mensagem"+mensagens
            clone.childNodes[3].childNodes[3].innerHTML = msg
            clone.childNodes[3].childNodes[1].innerHTML = nomepessoa
            document.getElementById("main").appendChild(clone)
        }

        function teste(){
            nomepessoa = window.prompt('Escolha um nome')
        }

        function teste2(){
            nomepessoa = window.prompt('Escolha um nome')
        }
        function inputToURL(inputElement){
            var file = inputElement.files[0];
            document.getElementById("pfp").src = window.URL.createObjectURL(file)
        }
    </script>
</head>
<body id="body">
    <header class="barratopo" id="header">
            <!--<img src="Imagens/icon.png" class="logo">-->
            <marquee behavior="alternate">Placeholder</marquee>
    </header>
    <main id="main">

        <div class="mensagem" id="msgplaceholder">
            <img src="Imagens/moço.png" id="pfp"> 
            <div id="usuario">       
                <p id="nomenamensagem">Moço</p>      
                <p id="conteudomensagem">teste teste teste teste teste teste teste teste teste </p>
        </div>
        </div>
        <br><br><br><br>

        <br><button onclick="teste()">botão de teste pra definir nome</button>
        <br><br><label>Definir foto</label>
        <br><input type="file" id="myfile" name="myfile" onchange="inputToURL(this)">
        <button onclick="document.getElementById('pfp').src = 'Imagens/moço.png'">Remover foto</button>
    </main>
    <br><br><br><br>
    <footer class="barrafundo" id="footer" onsubmit="return false">
        <form id="form" method="post">
        <input type="text" id="escrevermsg" name="escrevermsg" placeholder="Enviar mensagem...">
        <input type="image" src="Imagens/enviar.png" id="enviarmsg" value="Enviar" onclick="EnviouMsg(this.form)">
        </form>
    </footer>
    <script>
        function EnviouMsg(form){
        var podeEnviar = false
        var inputValue = form.escrevermsg.value;
        for (var i = 0; i < inputValue.length; i++) {
         if (inputValue.charAt(i) != " "){
            podeEnviar = true
         } 
        }
        if (podeEnviar == true){
            mensagem(inputValue)
            document.getElementById("form").reset();
        }
        }
    </script>
</body>
</html>